# Телеграм-бот для школьной столовой

Этот бот предназначен для сбора отзывов о школьной столовой от учеников. Он позволяет регистрироваться, выбирая свой класс, оставлять отзывы с оценкой и фотографиями, а также предоставляет панель администратора для просмотра статистики и отзывов.

## Функциональность

- **Регистрация пользователей**:
  - Выбор класса с возможностью изменения
  - Сохранение данных пользователя в базе данных

- **Система отзывов**:
  - Отправка текстовых отзывов
  - Возможность прикрепить фото к отзыву
  - Рейтинг по пятибалльной шкале (⭐⭐⭐⭐⭐)
  
- **Панель администратора**:
  - Просмотр статистики пользователей (общее количество и по классам)
  - Просмотр всех отзывов с навигацией
  - Сортировка отзывов по дате (новые сначала)

## Установка и запуск

1. Клонируйте репозиторий:
```
git clone <ссылка на репозиторий>
cd <название папки>
```

2. Установите необходимые зависимости:
```
pip install -r requirements.txt
```

3. Настройте токен бота:
   - Создайте бота в @BotFather и получите токен
   - Замените `YOUR_BOT_TOKEN` в файле `bot.py` на ваш токен
   - Или установите токен через переменную окружения:
   ```
   export BOT_TOKEN=your_token_here  # Для Linux/Mac
   set BOT_TOKEN=your_token_here     # Для Windows
   ```

4. Запустите бота:
```
python main.py
```

## Структура проекта

- `main.py` - основной файл для запуска бота
- `bot.py` - инициализация бота
- `database.py` - модели базы данных
- `states.py` - определение состояний FSM
- `keyboards.py` - определение клавиатур
- `handlers/` - папка с обработчиками:
  - `__init__.py` - инициализация пакета обработчиков
  - `menu.py` - обработчики для главного меню
  - `registration.py` - обработчики для регистрации
  - `reviews.py` - обработчики для отзывов
  - `admin.py` - обработчики для админ-панели
- `school_canteen.db` - база данных SQLite (создается автоматически при первом запуске)
- `requirements.txt` - список необходимых зависимостей

## Технологии

- Python 3.7+
- aiogram 3.0+ - фреймворк для Telegram Bot API
- SQLAlchemy 2.0+ - ORM для работы с базой данных
- SQLite - встроенная база данных

## Команды бота

- `/start` - Начать работу с ботом (регистрация или главное меню) 